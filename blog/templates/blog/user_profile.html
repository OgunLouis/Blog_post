{% extends 'blog/base.html' %}

{% block title %}{{ profile_user.username }}'s Profile{% endblock %}

{% block content %}
<h1 class="mb-4">{{ profile_user.username }}'s Profile</h1>

<div class="card p-4 shadow-sm" style="max-width: 600px;">
    <div class="text-center mb-3">
        <img src="{{ profile_user.profile.image_url }}" alt="Profile Picture" width="150" height="150">
    </div>

    <p><strong>Age:</strong> {{ profile_user.profile.age }}</p>
    <p><strong>About:</strong> {{ profile_user.profile.about }}</p>

    {% if user == profile_user %}
        <a href="{% url 'edit_profile' %}" class="btn btn-primary mt-3">✏️ Edit Profile</a>
    {% endif %}
</div>

<p class="mt-4">
    <a class="btn btn-link" href="{% url 'post_list' %}">← Back to Blog</a>
</p>
<p class="mt-4">
  <a class="btn btn-success mb-3" href="{% url 'post_create' %}">+ New Post</a>
</p>

<hr class="my-5">

<h3>Articles by {{ profile_user.username }}</h3>

{% if user_posts %}
  {% for post in user_posts %}
    <div class="mb-4">
      <h5><a href="{% url 'post_detail' post.pk %}">{{ post.title }}</a></h5>
      <small class="text-muted">{{ post.created_at }}</small>
      <p>{{ post.content|truncatechars:200 }}</p>
    </div>
  {% endfor %}
{% else %}
  <p class="text-muted">This user hasn’t written any posts yet.</p>
{% endif %}
{% endblock %}
